<extend name="Base/common"/>

<block name="style">
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/lot/{$lottory}.css" rel="stylesheet" />
</block>

<block name="body">
 
  <!--body-content--> 
  <div class="body-content"> 
   <!-- ��Ʊ���� ͷ�� --> 
   <include file="Public/top_ad"/>
	  <include file="Public/lottory_latest"/>

	  <div class="lot-wrap">
		  <include file="Public/lottory_op"/>

		  <div class="clear"></div>

<script type="text/javascript">
	$('.lot-menu a').removeClass('cur');
	$('[game="'+beforPageJs.gameName+'"]').addClass('cur');
</script> 

<script type="text/javascript">    var lotteryLuzhu = "";</script>
<script src="js/lot/lotcommon.js"  type="text/javascript"></script>
<script src="js/lot/cqssc/award.js?v=20181114"  type="text/javascript"></script>
<script src="js/lot/warntime.js"  type="text/javascript"></script>
   <div class="lot-wrap">
				<div class="clear"></div> 
    <div id="lot-wrap"> 
     <input type="hidden" value="Search" id="callFun" lottery="cqssc" /> 
     <div class="lot-search"> 
      <div class="lot-search"> 
       <div class="car-num"> 
        <ul class="lot-number-omit" style="margin-bottom: 10px;"> 
         <li class="ball" style="padding-bottom: 2px;"> 
          <ul style="width: 750px;_width:740px;  float: left;margin-left:10px;"> 

          </ul>
             <script type="text/javascript" src="js/My97DatePicker/WdatePicker.js" ></script>
			 <div class="merge-title-table-title" style="margin-bottom: 10px;margin-top: -10px">

				 <span class="bbbb">开奖历史</span>
				 <ul style="float: right; width: 240px; text-align: right;">
					 <li>
					<span style="display: block; float: left;">
						<label style="margin: 0px;position: relative;top: 3px;">日期</label></span>
						 <span style="display: block; float: left;margin-left: 5px;">
						<input name="dateData" type="text" id="dateData"  class="Wdate" onClick="WdatePicker();" readonly="readonly" style=""></span>
						 <span style="padding-left: 10px;"><a style="margin: 0px;" href="javascript:Search();" class="a-bottom">查询</a></span>
					 </li>
				 </ul>

			 </div>

         </li> 
        </ul> 
       </div> 
      </div> 
     </div> 
     <div class="dataTableKuangList" style="clear:both;margin-bottom:15px;" id="numstat_remind"> 
     <div id="todayNumberStatData-html"></div>
	 <script id="todayNumberStatData-tmpl" type="text/template">
		<table width="100%" border="0" cellspacing="1" cellpadding="0"> 
	       <tbody>
	        <tr class="huisekColor"> 
	         <td colspan="17" class="firstTd"><span>���պ���ͳ��</span></td> 
	        </tr> 
	        <tr class="huisekColor2"> 
	         <td>0</td> 
	         <td>1</td> 
	         <td>2</td> 
	         <td>3</td> 
	         <td>4</td> 
	         <td>5</td> 
	         <td>6</td> 
	         <td>7</td> 
	         <td>8</td> 
	         <td>9</td> 
	         <td>��</td> 
	         <td>˫</td> 
	         <td>��</td> 
	         <td>С</td> 
	         <td>��</td> 
	         <td>��</td> 
	         <td>ƽ</td> 
	        </tr> 
	        <tr class="huisekColor3" id="todayNumberStatData"> 
	         <td>{{=it.t1n0}}</td> 
	         <td>{{=it.t1n1}}</td> 
	         <td>{{=it.t1n2}}</td> 
	         <td>{{=it.t1n3}}</td> 
	         <td>{{=it.t1n4}}</td> 
	         <td>{{=it.t1n5}}</td> 
	         <td>{{=it.t1n6}}</td> 
	         <td>{{=it.t1n7}}</td> 
	         <td>{{=it.t1n8}}</td> 
	         <td>{{=it.t1n9}}</td> 
	         <td>{{=it.t5n1}}</td> 
	         <td>{{=it.t5n2}}</td> 
	         <td>{{=it.t6n2}}</td> 
	         <td>{{=it.t6n1}}</td> 
	         <td>{{=it.t2n1}}</td> 
	         <td>{{=it.t2n2}}</td> 
	         <td>{{=it.t2n3}}</td> 
	        </tr> 
	       </tbody>
	      </table> 
	 </script>
     </div> 

     <div class="clear"></div> 
     <div id="history_data-html"></div>
   	 <script id="history_data-tmpl" type="text/template">
   		<table id="history" class="lot-table">
	            <tbody>
					<tr class="head">
						<td width="120">时间</td>
						<td width="140">期号</td>
						<td width="680">开奖号码</td>
						<td colspan="3">总和</td>
						<td style="width: 70px; text-align: center;">龙虎</td>
						<td style="width: 70px; text-align: center;">前三</td>
						<td style="width: 70px; text-align: center;">中三</td>
						<td style="width: 70px; text-align: center;">后三</td>
						<td style="width: 70px; text-align: center;">梭哈</td>
						<td style="width: 70px; text-align: center;">斗牛</td>
					</tr>
					{{
						for (var i = 0; i <it.length; i++) { 
							var row=it[i];
							var lowDate=new Date(Date.parse(row.lotteryTime.replace(/-/g,"/"))).format("hh:mm");
							var totalNum=row.n1+row.n2+row.n3+row.n4+row.n5;
							var lhStr="";
							if(row.n1>row.n5){
								lhStr="龙";
							}else if(row.n1<row.n5){
								lhStr="虎";
							}else if(row.n1==row.n5){
								lhStr="和";
							}
								
					}}
							<tr class="{{=(i+1)%2==0?'even':'odd'}}">
								<td>

									<p class="">{{=lowDate}}</p>
								</td>
								<td>
									<p class="">{{=row.termNum}}</p>

								</td>
								<td class="nums">
									<span class="no1">{{=row.n1}}</span>
									<span class="no2">{{=row.n2}}</span>
									<span class="no3">{{=row.n3}}</span>
									<span class="no4">{{=row.n4}}</span>
									<span class="no5">{{=row.n5}}</span>
								</td>
								<td  width="50px">{{=totalNum}}</td>
								<td class="{{=totalNum%2!=0?'r':''}}"  width="50px"><p>{{=totalNum%2==0?"双":"单"}}</p></td>
								<td class="{{=totalNum> 22?'r':''}}"  width="50px"><p>{{=totalNum<= 22?"小":"大"}}</p></td>
								<td><p class="{{=lhStr=='?'?'r':''}}">{{=lhStr}}</p></td>
								<td>{{=numFromDesc(row.n1,row.n2,row.n3)}}</td>
								<td>{{=numFromDesc(row.n2,row.n3,row.n4)}}</td>
								<td>{{=numFromDesc(row.n3,row.n4,row.n5)}}</td>
								<td>{{=suoha([row.n1,row.n2,row.n3,row.n4,row.n5])}}</td>
								<td>{{=douniu([row.n1,row.n2,row.n3,row.n4,row.n5])}}</td>
							</tr>
					{{
						}
					}}
	        	</tbody>
			</table>
		</script> 
     <script type="text/javascript">
	    $(function () {
	        LoadCqssscTipSet();
	    })
	    
    	//�������ͳ��
	    function reloadNumberStatRemind() {
	    	var numberStarts={};
	        $.get("missing/getTodayNum.do", { t: Math.random(),gameId:1 }, function (r) {
	            if (r) {
	            	numberStarts={};
	            	for(var i=0;i<r.length;i++){
	            		var n=r[i].num;
	            		var t=r[i].dataType;
	            		var total=r[i].dayTotalNum;
	            		numberStarts["t"+t+"n"+n]=total;
	            	}
	            	doTCompile("todayNumberStatData", numberStarts);
	            }
	        }, 'json');
	    }
	    reloadNumberStatRemind();
	    //˫��
	    function reloadTwoBallRemind() {
            $.get("cqssc/twoBallRemind.do", { t: Math.random() }, function (json) {
                $("#twoball_balls").text(json.TwoSided.length > 0 ? json.TwoSided : "��");
                $("#twoball_issuetoday").text(json.IssueToday);
                $("#twoball_issuenext").text(json.IssueNext);
                $("#twoball_omitcur").text(json.OmitCurrent);
                $("#twoball_omitmax").text(json.OmitTodayMax);
               },'json'); 
	    }
        reloadTwoBallRemind();
        
        //����
        function reloadChangLong() {
        	$.post("cqssc/getMergeData.do",
    				function(r) {
    					if (r) {
    						doTCompile("cl_list", r.clList);
    					}
    			}, "json")
        }
        reloadChangLong();
        
        //������ʷ
        function getHistoryData(date){
    		$.post("cqssc/getHistoryData.do",
   				{count:120,date:date}, 
   				function(r) {
    				if (r) {
    					doTCompile("history_data", r.rows);
    				}
   			}, "json");
        }
        getHistoryData(null);
        
	    function Search() {
	    	getHistoryData($("#dateData").val());
	    }

        function douniu(nums){
            //var nums = str.split(',');
            var i = 0, j = 0, k = 0,nSum = 0,b=0,a=0;
            var num = '';
            var num2 = '';
            var num3='';
            var text = '';

            if(nums == [0,0,0,0,0]){
                niu ='ţţ';
            }else {
                for(i = 0; i <nums.length; ++ i)
                {
                    for(j = i + 1; j < nums.length; ++ j)
                    {
                        for(k = j + 1; k < nums.length; ++ k)
                        {
                            nSum = Number(nums[i]) + Number(nums[j]) + Number(nums[k]);
                            //  console.log(nSum);
                            nSum = Number(nSum)%10;
                            // console.log(nSum);
                            // alert(nSum);
                            if(nSum == 0){
                                num = i;
                                num2 = j;
                                num3=k;
                                break;
                            }
                        }

                    }

                }

                nums[num] = null;
                nums[num2] = null;
                nums[num3] = null;


                var num4=[];
                var num5=0;
                var niu = '';
                if(num2 ==0 || num2 != null || num ==0  || num != null|| num3 == 0 || num3 !=null){
                    for(var t=0;t<nums.length;t++){
                        if(nums[t] != null && nums[t] != '' ){
                            num4[num5]=nums[t]
                            num5++;
                        }
                    }
                    if(num4 == 0 || num4 == null || num4 == ''){
                        niu ='牛牛';
                    }else {
                        if (num4.length <= 2) {
                            if (num4[1]) {
                                niu = Number(num4[0]) + Number(num4[1]);
                            } else {
                                niu = Number(num4[0]);
                            }

                            if (niu > 10) {
                                niu = niu - 10;
                            } else if (niu == 10) {
                                niu = '牛牛';
                            }
                        } else {
                            niu = '没牛';
                        }
                    }
                }else {
                    niu ='没牛';
                }
            }
            if( niu !='没牛' && niu !='牛牛'){
                niu = '牛'+ niu;
                return niu;
            }else {
                return niu;
            }

            return niu;

        }

        function suoha(nums){
            // console.log(nums);
            if(Number(nums[4])-Number(nums[3]) == 1 && Number(nums[3])-Number(nums[2]) == 1 && Number(nums[2])-Number(nums[1]) == 1 && Number(nums[1])-Number(nums[0]) == 1 || nums == [0,1,2,3,4] || nums == [6,7,8,9,0] ||
                nums == [7,8,9,0,1] || nums == [8,9,0,1,2] || nums == [9,0,1,2,3]){
                suo = '顺子';
            }else {
                var _res = []; //

                nums.sort();
                for (var i = 0; i < nums.length;) {
                    var count = 0;
                    for (var j = i; j < nums.length; j++) {
                        if (nums[i] == nums[j]) {
                            count++;
                        }
                    }
                    _res.push([nums[i], count]);
                    i += count;
                }
                //     console.log(_res)
                //_res ��ά��ά�б����� ֵ��ֵ���ظ���
                var _newArr = [];
                for (var i = 0; i < _res.length; i++) {
                    // console.log(_res[i][0] + "�ظ�����:" + _res[i][1]);
                    if(_res[i][1] > 1){
                        _newArr.push(_res[i][1]);
                    }

                }

                //   console.log(_newArr);
                var suo = '';
                // / alert(_newArr);
                if(_newArr){
                    if(_newArr.length == 1 && _newArr[0] == 2){
                        suo = '对子';
                    }else if(_newArr.length == 2 && _newArr[0] == 2 && _newArr[1] == 2){
                        suo = '两队';
                    }else if(_newArr.length == 1 && _newArr[0] == 3){
                        suo = '三条';
                    }else if(_newArr.length == 1 && _newArr[0] == 4){
                        suo = '四条';
                    }else if(_newArr.length == 1 && _newArr[0] == 5){
                        suo = '五条';
                    }else if(_newArr.length == 2 && _newArr[0] == 2 & _newArr[1] == 3 || _newArr[0] == 3 && _newArr[1] == 2) {
                        suo = '葫芦';
                    }else {
                        suo = '散号';
                    }
                }else {
                    suo = '散号';

                }
            }
            return suo;
        }


	 </script>
    </div> 
   </div> 
  </div>
	  <style>
		  .lot-number-omit {
			  line-height: 32px;
			  width: 1200px;
			   padding-top: 0px;
			   padding-bottom: 0px;
			  overflow: hidden;
		  }
		  .lot-wrap{ padding-top: 0px;}

	  </style>
    </block>