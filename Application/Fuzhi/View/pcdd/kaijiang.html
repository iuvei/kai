<extend name="Base/common"/>

<block name="style">
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/lot/{$lottory}.css" rel="stylesheet" />
</block>

<block name="body">

  <!--body-content-->
  <div class="body-content">
   <!-- 彩票大厅 头部 -->
   <include file="Public/top_ad"/>
	  <include file="Public/lottory_latest"/>

	  <div class="lot-wrap">
		  <include file="Public/lottory_op"/>

		  <div class="clear"></div>
<script type="text/javascript">
	$('.lot-menu a').removeClass('cur');
	$('[game="'+beforPageJs.gameName+'"]').addClass('cur');
</script>
<script type="text/javascript">    var lotteryLuzhu = "";</script>
<script src="js/lot/lotcommon.js"  type="text/javascript"></script>
<script src="js/lot/pcdd/award.js?v=20181114"  type="text/javascript"></script>
<script src="js/lot/warntime.js"  type="text/javascript"></script>
   <div class="lot-wrap">
				<div class="clear"></div>
    <div id="lot-wrap">
     <input type="hidden" value="Search" id="callFun" lottery="pcdd" />
     <div class="lot-search">
      <div class="lot-search">
       <div class="car-num">
        <ul class="lot-number-omit" style="margin-bottom: 10px;">
         <li class="ball" style="padding-bottom: 2px;">
			 <div class="merge-title-table-title" style="margin-bottom: 0px;">

				 <span class="bbbb">历史开奖</span>

				 <script type="text/javascript" src="js/My97DatePicker/WdatePicker.js" ></script>
				 <ul style="float: right; width: 265px; text-align: right;">
					 <li>
					<span style="display: block; float: left;">
						<label style="margin: 0px;position: relative;top:2px;">选择日期：</label></span>
						 <span style="display: block; float: left;">
						<input name="dateData" type="text" id="dateData" class="Wdate"  onClick="WdatePicker();" readonly="readonly" ></span>
						 <span style="padding-left: 10px;"><a style="margin: 0px;" href="javascript:Search();" class="a-bottom">查询</a></span>
					 </li>
				 </ul>
			 </div>

          <ul style="width: 750px;_width:740px;  float: left;margin-left:10px;">
           <li id="numstat-switch"style="display: none" > <b class="checkbox checked" style="display: none"></b> <span class="ckb-txt"> <label style="cursor:pointer">今日号码统计</label> </span> </li>
           <li id="twoball-switch" style="display: none"> <b class="checkbox checked" style="display: none"></b> <span class="ckb-txt"> <label style="cursor:pointer">双号提醒</label> </span> </li>
           <li id="changlong-switch" style="display: none"> <b class="checkbox checked" style=""></b> <span class="ckb-txt"> <label style="cursor:pointer">长龙提醒</label></span></li>
          </ul>

         </li>
        </ul>
       </div>
      </div>
     </div>
     <div class="dataTableKuangList" style="clear:both;margin-bottom:15px;" id="numstat_remind">
     <div id="todayNumberStatData-html"></div>
	 <script id="todayNumberStatData-tmpl" type="text/template">
		<table width="100%" border="0" cellspacing="1" cellpadding="0">
	       <tbody>
	        <tr class="huisekColor">
	         <td colspan="17" class="firstTd"><span>今日号码统计</span></td>
	        </tr>
	        <tr class="huisekColor2">
	         <td>0</td>
	         <td>1</td>
	         <td>2</td>
	         <td>3</td>
	         <td>4</td>
	         <td>5</td>
	         <td>6</td>
	         <td>7</td>
	         <td>8</td>
	         <td>9</td>
	         <td>单</td>
	         <td>双</td>
	         <td>大</td>
	         <td>小</td>
	         <td>龙</td>
	         <td>虎</td>
	         <td>平</td>
	        </tr>
	        <tr class="huisekColor3" id="todayNumberStatData">
	         <td>{{=it.t1n0}}</td>
	         <td>{{=it.t1n1}}</td>
	         <td>{{=it.t1n2}}</td>
	         <td>{{=it.t1n3}}</td>
	         <td>{{=it.t1n4}}</td>
	         <td>{{=it.t1n5}}</td>
	         <td>{{=it.t1n6}}</td>
	         <td>{{=it.t1n7}}</td>
	         <td>{{=it.t1n8}}</td>
	         <td>{{=it.t1n9}}</td>
	         <td>{{=it.t5n1}}</td>
	         <td>{{=it.t5n2}}</td>
	         <td>{{=it.t6n2}}</td>
	         <td>{{=it.t6n1}}</td>
	         <td>{{=it.t2n1}}</td>
	         <td>{{=it.t2n2}}</td>
	         <td>{{=it.t2n3}}</td>
	        </tr>
	       </tbody>
	      </table>
	 </script>
     </div>

     <div class="kaijiang_tiptool" id="twoball_remind" style="display: none">
      <div class="tiptool_head">
       <ul>
        <li>双号提醒 </li>
       </ul>
      </div>
      <div class="tiptool_info" style="display: block;">
       <ul>
        <li> <span>本期双号</span> <span>今日开出双号期数</span> <span>下期重复开出期数</span> <span>当前重复开出遗漏</span> <span class="last">今日最大遗漏</span> </li>
        <li>
        	<span id="twoball_balls"></span>
        	<span id="twoball_issuetoday"></span>
        	<span id="twoball_issuenext"></span>
        	<span id="twoball_omitcur"></span>
        	<span class="last" id="twoball_omitmax"></span>
        </li>
       </ul>
      </div>
     </div>
     <div class="kaijiang_tiptool" id="changlong_warn" style="display: none">
      <div class="tiptool_head">
       <ul>
        <li> 长龙连开提醒 </li>
       </ul>
      </div>
      <div class="tiptool_info" id="changlong_info">
      	 <div id="cl_list-html" style="float: left;"></div>
	  	 <script id="cl_list-tmpl" type="text/template">
	  	 	<ul> <li>
				 {{
			     var rowsLen=it.length;
			     for(var i=0;i<rowsLen;i++){ /*循环开始A*/
			       var rd=it[i];
					  var tRank="";
					  if(rd.rank==1){
						  tRank="冠";
					  }else if(rd.rank==2){
						  tRank="亚";
					  }else if(rd.rank==3){
						  tRank="三";
					  }else if(rd.rank==4){
						  tRank="四";
					  }else if(rd.rank==5){
						  tRank="五";
					  }else if(rd.rank==6){
						  tRank="六";
					  }else if(rd.rank==7){
						  tRank="七";
					  }else if(rd.rank==8){
						  tRank="八";
					  }else if(rd.rank==9){
						  tRank="九";
					  }else if(rd.rank==10){
						  tRank="十";
					  }
					  var tNum=rd.num;
					  var tType="";
					  if(rd.dataType==2){
						  if(tNum==1){
							  tType="龙";
						  }else if(tNum==2){
							  tType="虎";
						  }else if(tNum==3){
							  tType="平";
						  }
					  }else if(rd.dataType==5){
						  if(tNum==1){
							  tType="单";
						  }else{
							  tType="双";
						  }
					  }else if(rd.dataType==6){
						  if(tNum==1){
							  tType="小";
						  }else{
							  tType="大";
						  }
					  }
			  }}
			        <span>第{{=tRank}}球：{{=tType}} {{=rd.nowMissing}} 期</span>
			{{
		 		}
			}}
				 </li> </ul>
		  </script>
      </div>
     </div>
     <div class="clear"></div>
     <div id="history_data-html"></div>
   	 <script id="history_data-tmpl" type="text/template">
   		<table id="history" class="lot-table">
	            <tbody>
					<tr class="head">
						<td width="100">期号</td>
						<td width="100">时间</td>
						<td width="680">开奖号码</td>
						<td colspan="3">总和</td>
					</tr>
					{{
						for (var i = 0; i <it.length; i++) {
							var row=it[i];
							var lowDate=new Date(Date.parse(row.lotteryTime.replace(/-/g,"/"))).format("hh:mm");
					var totalNum_a = row.n1 ;
					var totalNum_b = row.n2 ;
					var totalNum_c = row.n3 ;
					var totalNum=totalNum_a+totalNum_b+totalNum_c;
					var sebo="";
					var danshaung="";
					if(totalNum == 1 || totalNum == 4 || totalNum == 7 || totalNum == 10 || totalNum == 16 || totalNum == 19 || totalNum == 22 || totalNum == 25){
					sebo = '绿波';
					}else if(totalNum == 2 || totalNum == 5 || totalNum == 8 || totalNum == 11 || totalNum == 17 || totalNum == 20 || totalNum == 23 || totalNum == 26){
					sebo = '蓝波';
					}else if(totalNum == 3 || totalNum == 6 || totalNum == 9 || totalNum == 12 || totalNum == 15 || totalNum == 18 || totalNum == 21 || totalNum == 24){
					sebo = '红波';
					}else if(totalNum == 0 || totalNum == 13 || totalNum == 14 || totalNum == 27 ){
					sebo = '和';
					}
					if(totalNum  == 13 || totalNum == 14 ){
					danshaung = '和';
					}else if(totalNum < 13 && totalNum > 5){
					danshaung = '小';
					}else if(totalNum < 22 && totalNum > 14){
					danshaung = '大';
					}else if(totalNum <= 5 && totalNum >= 0){
					danshaung = '极小';
					}else if(totalNum <= 27 && totalNum >= 22){
					danshaung = '极大';
					}

					}}
							<tr class="{{=(i+1)%2==0?'even':'odd'}}">
								<td>

									<p>{{=row.termNum}}</p>
								</td>
								<td>

									<p>{{=lowDate}}</p>
								</td>
								<td class="nums">
									<span class="no1">{{=totalNum_a}}</span>
									<span style="width: 2%">+</span>
									<span class="no2">{{=totalNum_b}}</span>
									<span style="width: 2%">+</span>
									<span class="no3">{{=totalNum_c}}</span>
									<span style="width: 2%">=</span>
									<span class="no4">{{=totalNum}}</span>
								</td>
								<td>{{=sebo}}</td>
								<td class="{{=totalNum%4==0||totalNum%4==2?'r':''}}"><p>{{=totalNum%2==0?"双":"单"}}</p></td>
								<td class="{{=totalNum%4==0||totalNum%4==3?'r':''}}"><p>{{=danshaung}}</p></td>

							</tr>
					{{
						}
					}}
	        	</tbody>
			</table>
		</script>
     <script type="text/javascript">
	    $(function () {
	        LoadCqssscTipSet();
	    })

    	//今天号码统计
	    function reloadNumberStatRemind() {
	    	var numberStarts={};
	        $.get("missing/getTodayNum.do", { t: Math.random(),gameId:1 }, function (r) {
	            if (r) {
	            	numberStarts={};
	            	for(var i=0;i<r.length;i++){
	            		var n=r[i].num;
	            		var t=r[i].dataType;
	            		var total=r[i].dayTotalNum;
	            		numberStarts["t"+t+"n"+n]=total;
	            	}
	            	doTCompile("todayNumberStatData", numberStarts);
	            }
	        }, 'json');
	    }
	    reloadNumberStatRemind();
	    //双号
	    function reloadTwoBallRemind() {
            $.get("pcdd/twoBallRemind.do", { t: Math.random() }, function (json) {
                $("#twoball_balls").text(json.TwoSided.length > 0 ? json.TwoSided : "无");
                $("#twoball_issuetoday").text(json.IssueToday);
                $("#twoball_issuenext").text(json.IssueNext);
                $("#twoball_omitcur").text(json.OmitCurrent);
                $("#twoball_omitmax").text(json.OmitTodayMax);
               },'json');
	    }
        reloadTwoBallRemind();

        //长龙
        function reloadChangLong() {
        	$.post("pcdd/getMergeData.do",
    				function(r) {
    					if (r) {
    						doTCompile("cl_list", r.clList);
    					}
    			}, "json")
        }
        reloadChangLong();

        //开奖历史
        function getHistoryData(date){
    		$.post("pcdd/getHistoryData.do",
   				{count:120,date:date},
   				function(r) {
    				if (r) {
    					doTCompile("history_data", r.rows);
    				}
   			}, "json");
        }
        getHistoryData(data);

	    function Search() {
	    	getHistoryData($("#dateData").val());
	    }


	</script>
    </div>
   </div>
  </div>
	  <style>.lot-wrap {
		  padding: 0;

	  }
	  .lot-number-omit {

		  padding-top: 0px; margin-top: -15px;

	  }

	  </style>
    </block>
